# lazy reading

#-----------------------------------------
# neosnippet
#-----------------------------------------
[[plugins]]
repo = 'Shougo/neosnippet'
hook_source = '''
  imap <C-k> <Plug>(neosnippet_expand_or_jump)
  smap <C-k> <Plug>(neosnippet_expand_or_jump)
  xmap <C-k> <Plug>(neosnippet_expand_target)
  if has('conceal')
    set conceallevel=2 concealcursor=niv
  endif
  let g:neosnippet#enable_completed_snippet = 1
'''
on_i = 1
on_ft = ['snippet']
depends = ['neosnippet-snippets']

#-----------------------------------------
# deoplete
#-----------------------------------------

# deoplete
[[plugins]]
repo = 'Shougo/deoplete.nvim'
hook_source = '''
  let g:python_host_prog = '$HOME/Library/Python/2.7/bin/'
  let g:deoplete#enable_at_startup = 1
  inoremap <silent><expr><tab> pumvisible() ? "\<c-n>" :
    \ neosnippet#expandable_or_jumpable() ?
    \    "\<Plug>(neosnippet_expand_or_jump)" : "\<tab>"
'''
on_i = 1

# deoplete go
[[plugins]]
repo = 'zchee/deoplete-go'
on_ft = 'go'
build = 'make'
depends = ['deoplete.nvim']
hook_source = '''
  let g:deoplete#sources#go#gocode_binary = $GOPATH . '/bin/gocode'
  let g:deoplete#sources#go#sort_class = ['package', 'func', 'type', 'var', 'const']
'''

# deoplete rust
[[plugins]]
repo = 'sebastianmarkow/deoplete-rust'
on_ft = 'rust'
depends = ['deoplete.nvim']
hook_source = '''
    let g:deoplete#sources#rust#rust_source_path='{$(rustc --print sysroot)/lib/rustlib/src/rust/srcを書く}'
    let g:deoplete#sources#rust#show_duplicates=1
    let g:deoplete#sources#rust#disable_keymap=1
    nmap <buffer> gd <plug>DeopleteRustGoToDefinitionDefault
    nmap <buffer> K  <plug>DeopleteRustShowDocumentation
'''

#-----------------------------------------
# fzf
#-----------------------------------------
[[plugins]]
repo = 'junegunn/fzf.vim'
depends = ['fzf']
on_path = ['.*']
hook_source = '''
    let g:fzf_action = { 'enter': 'tab split'}
    let g:fzf_buffers_jump = 1
    command! -bang -nargs=? -complete=dir Files
      \ call fzf#vim#files(<q-args>, fzf#vim#with_preview(), <bang>0)
    command! -bang -nargs=* Rg
      \ call fzf#vim#grep(
      \   'rg --line-number --no-heading '.shellescape(<q-args>), 0,
      \   fzf#vim#with_preview({'options': '--exact --reverse'}, 'right:50%:wrap'))
'''

#-----------------------------------------
# ctags
#-----------------------------------------
[[plugins]]
repo = 'szw/vim-tags'
hook_add = '''
  let g:vim_tags_auto_generate = 1
  let g:vim_tags_directories = [".git"]
  nnoremap <C-]> g<C-]>
'''

#-----------------------------------------
# syntax
#-----------------------------------------
[[plugins]]
repo = 'cohama/lexima.vim'
on_i = 1
